# Camunda Platform Helm Chart Release Process

The charts are build, linted and tested on every push to the main branch. If the chart version
(in `Chart.yaml`) changes a new github release with the corresponding packaged helm chart is
created. The charts are hosted via github pages and use the release artifacts. We use the
[chart-releaser-action](https://github.com/helm/chart-releaser-action) to release the charts.

## Process

We are trying to automate as much as possible of the release process and the release process is
almost fully automated. Only 1 manual step is needed.

When everything is looks good and we are ready for a new release just do the following:

Use make to bump the charts version and make git commit locally:

```
make bump-chart-version-and-commit
```

View the changes to make sure everything as expected:

```
git log -p
```

When everything is good, just push to the main branch and watch the
[release progress](https://github.com/camunda/camunda-platform-helm/actions/workflows/release.yaml).


## Release notes

The release notes are automatically generated by the
[release workflow](.github/workflows/release.yaml) and used for both
GitHub Releases and Artifact Hub.

> **Note**
>
> The release notes depend on git commit log, only the commits that follow
[Keep a Changelog](https://keepachangelog.com/en/1.0.0/) will be added to the release notes.


## Artifact Hub

[Camunda repo](https://artifacthub.io/packages/search?repo=camunda) is already configured on
Artifact Hub. Once the release workflow is done, Artifact Hub automatically scans Camunda Helm repo
and the new release will show on Artifact Hub.

> **Note**
>
> The charts could take some time till shown on Artifact Hub (up to 30 min).
> But we sharing our Helm chart on Artifact Hub just for visibility. After successful release,
> our Helm charts are immediately available via [Camunda Helm Repo](https://helm.camunda.io).
