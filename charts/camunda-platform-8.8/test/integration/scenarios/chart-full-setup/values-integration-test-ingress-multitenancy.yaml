global:
  secrets:
    autoGenerated: false

  multitenancy:
    enabled: true
    
  ingress:
    enabled: true
    className: nginx
    host: "camunda.example.com"
    tls:
      enabled: true
      secretName: camunda-platform
    annotations:
      external-dns.alpha.kubernetes.io/hostname: "{{ .Values.global.ingress.host }}"
      external-dns.alpha.kubernetes.io/ttl: "60"
  
  identity:
    auth:
      enabled: true
      publicIssuerUrl: "https://{{ .Values.global.ingress.host }}/auth/realms/camunda-platform"
      admin:
        enabled: true
        existingSecret:
          name: "integration-test-credentials"
      webModeler:
        redirectUrl: "https://{{ .Values.global.ingress.host }}/modeler"
        existingSecret:
          name: "integration-test-credentials"
      console:
        redirectUrl: "https://{{ .Values.global.ingress.host }}"
        existingSecret:
          name: "integration-test-credentials"
      core:
        redirectUrl: "https://{{ .Values.global.ingress.host }}/core"
        existingSecret:
          name: "integration-test-credentials"
      connectors:
        existingSecret:
          name: "integration-test-credentials"
      optimize:
        redirectUrl: "https://{{ .Values.global.ingress.host }}/optimize"
        existingSecret:
          name: "integration-test-credentials"
      identity:
        redirectUrl: "https://{{ .Values.global.ingress.host }}/identity"
        existingSecret:
          name: "integration-test-credentials"
        
    keycloak:
      internal: true
      url:
        protocol: "http"
        host: "{{ include \"camunda-platform.identityKeycloak.fullname\" . }}"
        port: 80
      contextPath: "/auth"
      realm: "camunda-platform"
      
  security:
    authentication:
      method: "oidc"
      oidc:
        usernameClaim: "preferred_username"
      unprotectedApi: false
    
    authorizations:
      enabled: true
      
    initialization:
      mappings:
        - mappingID: "admin-mapping"
          claimName: "group"
          claimValue: "admin"
        - mappingID: "tenant-a-mapping"
          claimName: "tenant"
          claimValue: "tenant-a"
        - mappingID: "tenant-b-mapping"
          claimName: "tenant"
          claimValue: "tenant-b"
  
  elasticsearch:
    enabled: true
    external: false
    url:
      protocol: "http"
      host: "{{ include \"camunda-platform.elasticsearch.fullname\" . }}"
      port: 9200
    clusterName: "elasticsearch"
    prefix: "camunda-record"
    
identity:
  enabled: true
  firstUser:
    enabled: true
    existingSecret:
      name: "integration-test-credentials"
    
identityPostgresql:
  enabled: true
  auth:
    existingSecret:
      name: "integration-test-credentials"
    
identityKeycloak:
  enabled: true
  nameOverride: "keycloak"
  
  auth:
    existingSecret:
      name: "integration-test-credentials"
    
  postgresql:
    enabled: true
    auth:
      existingSecret:
        name: "integration-test-credentials"
            
core:
  enabled: true
  
elasticsearch:
  enabled: true
  
console:
  enabled: true
  
connectors:
  enabled: true
  
optimize:
  enabled: true
  
webModeler:
  enabled: true
  contextPath: "/modeler"
  restapi:
    mail:
      fromAddress: "noreply@example.com"
  
webModelerPostgresql:
  enabled: true
  auth:
    existingSecret:
      name: "integration-test-credentials"
