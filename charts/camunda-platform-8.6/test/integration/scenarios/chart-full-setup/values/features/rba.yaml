# =============================================================================
# Role-Based Authorization (RBA) Feature (8.6)
# =============================================================================
# Layer 4: Optional feature - Resource-based permissions
# Used with: TEST_VALUES_FEATURES containing "rba"
# Note: 8.6 uses separate operate, tasklist components for RBA
# =============================================================================

# -----------------------------------------------------------------------------
# Operate (RBA enabled)
# -----------------------------------------------------------------------------
operate:
  env:
    - name: CAMUNDA_OPERATE_IDENTITY_RESOURCEPERMISSIONSENABLED
      value: 'true'

# -----------------------------------------------------------------------------
# Tasklist (RBA enabled)
# -----------------------------------------------------------------------------
tasklist:
  env:
    - name: CAMUNDA_TASKLIST_IDENTITY_RESOURCE_PERMISSIONS_ENABLED
      value: 'true'

# -----------------------------------------------------------------------------
# Identity (RBA enabled)
# -----------------------------------------------------------------------------
identity:
  env:
    - name: RESOURCE_PERMISSIONS_ENABLED
      value: 'true'
  postgresql:
    enabled: true

# -----------------------------------------------------------------------------
# Identity PostgreSQL (required for RBA)
# -----------------------------------------------------------------------------
identityPostgresql:
  enabled: true
  auth:
    existingSecret: "integration-test-credentials"
    secretKeys:
      adminPasswordKey: "identity-keycloak-postgresql-admin-password"
      userPasswordKey: "identity-keycloak-postgresql-user-password"
